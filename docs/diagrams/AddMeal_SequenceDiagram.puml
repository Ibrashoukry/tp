@startuml
' ===== Sequence: measure waist/70 hips/98 chest/90 thigh/55 arm/30 =====
title AddMealCommand - Sequence for "meal ..."

skinparam shadowing false
skinparam defaultFontName Arial
skinparam sequence {
  LifeLineBorderColor black
  BoxBorderColor #90A4AE
  BoxBackgroundColor #F5F7FA
  ArrowColor #455A64
  ArrowThickness 1
}

actor User
participant Ui           as UI  #E3F2FD
participant Parser       as PR  #E8F5E9
participant AddMealCommand as AMC #C8E6C9
participant EntryList    as LIST #FFFDE7
participant Storage      as ST   #FCE4EC

User -> UI : enter "meal breakfast /cal 500 /protein 25 /carbs 10 /fat 14"
UI -> PR  : parse(raw)
PR -> UI  : new AddMealCommand("breakfast",500,25,10,14)
UI -> AMC : execute(list, storage)

alt invalid input (missing/â‰¤0)
  AMC -> UI : throw CommandException\n("Calories must be a non-negative number ...")
else valid input
  AMC -> LIST : add(new MealEntry(...))
  AMC -> ST   : save(list)
  ST --> AMC  : ok
  AMC --> UI  : CommandResult("Got it. I've logged this meal...")
end

@enduml

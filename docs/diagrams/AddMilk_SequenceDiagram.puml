@startuml
title AddMilkCommand - Sequence for "milk ..."

skinparam shadowing false
skinparam defaultFontName Arial
skinparam sequence {
  LifeLineBorderColor black
  BoxBorderColor #90A4AE
  BoxBackgroundColor #F5F7FA
  ArrowColor #455A64
  ArrowThickness 1
}

actor User
participant ":Ui"           as UI  #E3F2FD
participant ":Parser"       as PR  #E8F5E9
participant ":AddMilkCommand" as AMC #C8E6C9
participant ":EntryList"    as LIST #FFFDE7
participant ":Storage"      as ST   #FCE4EC

User -> UI  : enter "milk 30"
activate UI
UI -> PR  : parse(raw)
activate PR
PR --> UI  : new AddMilkCommand(30)
UI -> AMC : execute(list, storage)
activate AMC

opt invalid input\n (missing/â‰¤0)
  AMC -> UI : throw CommandException
else valid input
  AMC -> LIST : add new MilkEntry
  activate LIST
  AMC -> ST   : save(list)
  activate ST
  ST --> AMC  : ok
  AMC --> UI  : CommandResult
end

@enduml